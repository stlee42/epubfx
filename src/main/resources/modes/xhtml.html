<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="http://localhost:8777/codemirror/lib/codemirror.css">
    <script src="http://localhost:8777/codemirror/lib/codemirror.js"></script>
    <script src="http://localhost:8777/codemirror/mode/xml/xml.js"></script>
    <script src="http://localhost:8777/codemirror/addon/edit/closebrackets.js"></script>
    <script src="http://localhost:8777/codemirror/addon/edit/closetag.js"></script>
    <script src="http://localhost:8777/codemirror/addon/fold/xml-fold.js"></script>
    <script src="http://localhost:8777/codemirror/addon/edit/matchbrackets.js"></script>
    <script src="https://raw.githubusercontent.com/cfinke/Typo.js/master/typo/typo.js"></script>

    <style type="text/css">
        .CodeMirror
        {
            border: 1px solid green;
            font-family: "Source Code Pro", Consolas;
            font-size: 14px;
            height:auto;
        }
        .CodeMirror-scroll {
            overflow-y: hidden;
            overflow-x: auto;
        }
        .CodeMirror .cm-spell-error
        {
            background: url("https://raw.githubusercontent.com/jwulf/typojs-project/master/public/images/red-wavy-underline.gif") bottom repeat-x;
        }
    </style>
</head>
<body>
<form><textarea id="code" name="code"></textarea></form>
<script>
    var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
        lineNumbers: true,
        matchBrackets: true,
        indentUnit: 2,
        lineWrapping:true,
        viewportMargin:Infinity,
        maxHighlightLength:Infinity,
        autoCloseBrackets: true,
        autoCloseTags: true,
        smartIndent:false,
        extraKeys: {
            "Ctrl-Z": function (instance) {
                return false;
            },
            "Ctrl-Y": function (instance) {
                return false;
            },
            "Ctrl-Space": function (instance) {
                return false;
            }
        },
        mode: {name: "xml", htmlMode: false}
    });
    editor.on('changes', function(instance, changes){
        if (onChangeListener != null)
        onChangeListener.changed(instance, changes);
    });
</script>
</body>
</html>